# Records

> –ú–µ—Ö–∞–Ω–∏–∑–º `Records` –≤ Java –≤–≤–µ–¥–µ–Ω –≤ Java 14 –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –¥–ª—è
> –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (data classes).
>
> –≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∏ —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º—ã–µ –∫–ª–∞—Å—Å—ã, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏
> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `equals()`, `hashCode()`, –∏ `toString()`.
>
> Records —Ç–∞–∫–∂–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–µ–ª–∞—é—Ç –≤—Å–µ —Å–≤–æ–∏ –ø–æ–ª—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ (final).

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:

- –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ú–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞ - `x()`, `y()` (–Ω–µ `getX()`)
- `equals()` - —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `hashCode()` - –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- `toString()` - –≤ —Ñ–æ—Ä–º–∞—Ç–µ `Point[x=10, y=20]`

### ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –í—Å–µ –ø–æ–ª—è —è–≤–ª—è—é—Ç—Å—è private –∏ final
- –ö–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è final (–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω)
- –ù–µ—è–≤–Ω–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç java.lang.Record

```java
// –ü—Ä–æ—Å—Ç–æ–π record
public record Point(int x, int y) {
}
```

```java
// Record —Å –±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
public record Person(
                String name,
                String email,
                LocalDate birthDate
        ) {
}
```

```java
// –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π Record
record Pair<K, V>(K key, V value) {
}
```

## –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤ Record

> –£ record –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
> –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç–µ —É–±—Ä–∞—Ç—å
> –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏.

### –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```java
public record Person(String name, int age) {
    // –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    public Person {
        // –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
        if (age < 0) {
            throw new IllegalArgumentException("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º");
        }

        // –ú–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
        name = "Name=" + name;
        age = age > 0 ? age : 18;
        // –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –≤—Å–µ–≥–æ –∫–æ–¥–∞ –≤ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
        // –≠—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    }
}

public record Person(String name, int age) {
    // –≠—Ç–æ —É–∂–µ –ù–ï –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    // –ü—Ä–∏—Å–≤–æ–∏—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ —Å —è–≤–Ω—ã–º –≤—ã–∑–æ–≤–æ–º this()
    // –ù–æ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤ this() –ø–µ—Ä–µ–¥–∞—Ç—å –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è  
    public Person(String name, int age) {
        // –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
        if (age < 0) {
            throw new IllegalArgumentException("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º");
        }

        // –í—ã–∑–æ–≤ this() —Å –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏  
        this("Name=" + name, Math.max(age, 18));
    }
}

public record Person(String name, int age) {
    // –≠—Ç–æ —É–∂–µ –ù–ï –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    // –ü—Ä–∏—Å–≤–æ–∏—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ —Å —è–≤–Ω—ã–º –≤—ã–∑–æ–≤–æ–º this()
    // –ù–æ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤ this() –ø–µ—Ä–µ–¥–∞—Ç—å –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
    public Person(String name, int age) {
        // –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
        if (age < 0) {
            throw new IllegalArgumentException("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º");
        }
        
        String newName = "Name=" + name; 
        int newAge = Math.max(age, 18);

        // –í—ã–∑–æ–≤ this() —Å –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏  
        this(newName, newAge);
    }
}

public record Person(String name, int age) {
    // –≠—Ç–æ —É–∂–µ –ù–ï –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    public Person(String name, int age) {
        // –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
        if (age < 0) {
            throw new IllegalArgumentException("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º");
        }

        // –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ–º
        age = Math.max(age, 18);

        // –ó–∞—Ç–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
        this(name, age);
    }
}

/*
–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ record –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å this.age = ... –∏–ª–∏ this.name = ....
–≠—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º - –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —á—Ç–µ–Ω–∏—è, –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –∏–º –∑–∞–ø—Ä–µ—â–µ–Ω–æ.        
 */

// ‚ö†Ô∏è –¢–ê–ö –ù–ï–õ–¨–ó–Ø:
public record Person(String name, int age) {
    public Person(String name, int age) {
        // –ü–æ–ø—ã—Ç–∫–∞ —è–≤–Ω–æ–≥–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è:
        this.name = "Name=" + name;  // ‚Üê –û–®–ò–ë–ö–ê –ö–û–ú–ü–ò–õ–Ø–¶–ò–ò!
        this.age = Math.max(age, 18); // ‚Üê –û–®–ò–ë–ö–ê –ö–û–ú–ü–ò–õ–Ø–¶–ò–ò!
        // "cannot assign a value to final variable 'name'"
    }
}

// –ß—Ç–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —á–µ—Ä–µ–∑ this.variableName —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
public record Person(String name, int age) {
    public Person {
        System.out.println("Old name: " + this.name); // ‚úÖ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ (—á—Ç–µ–Ω–∏–µ)
        name = "Name=" + name;  // ‚úÖ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Å–µ–≤–¥–æ–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π)
        // this.name = ...;     // ‚ùå –∑–∞–ø—Ä–µ—â–µ–Ω–æ (–∑–∞–ø–∏—Å—å)
    }
}
```

### –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º.
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø–∏—Å–∏ –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –æ–±—ä—è–≤–ª–µ–Ω—ã –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ.
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç private final –ø–æ–ª—è.
- –ü—É–±–ª–∏—á–Ω—ã–π (public), –¥–∞–∂–µ –µ—Å–ª–∏ —è–≤–Ω–æ –Ω–µ –æ–±—ä—è–≤–ª–µ–Ω.

```java
record Person(String name, int age) {
}
// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:
// public Person(String name, int age) { this.name = name; this.age = age; }
```

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤ –∑–∞–ø–∏—Å–∏ –Ω–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
- –ù–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
- –ù–µ–ª—å–∑—è –æ–±—ä—è–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é, –µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∏–Ω–∞—á–µ final-–ø–æ–ª—è –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ -> –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏).

```java
record Empty() {
}
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç.–¥.
- –î–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ –Ω–µ—è–≤–Ω–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –∏–ª–∏ —è–≤–Ω—ã–π –≤—ã–∑–æ–≤ this(...) - –Ω–æ –≤ record‚Äô–µ
  —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –æ—Å–æ–±—ã–º –æ–±—Ä–∞–∑–æ–º).

```java
record Person(String name, int age) {

    // –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä - —Ç–µ–ª–æ –¥–æ–ø–æ–ª–Ω—è–µ—Ç, –Ω–æ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é.
    public Person {
        if (name == null || name.isBlank()) {
            throw new IllegalArgumentException("–ò–º—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");
        }
        if (age < 0) {
            throw new IllegalArgumentException("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º");
        }
        // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ this.name = name –∏ this.age = age –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    }
}
```

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```java
record Person(String name, int age) {
    // –≠—Ç–æ –ù–ï –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    public Person(String fullName, int years) {
    // –î–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
        this(fullName, years);  // –í—ã–∑–æ–≤ –Ω–µ—è–≤–Ω–æ–≥–æ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
    }
}
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ) –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

- –ú–æ–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å, –Ω–æ –æ–Ω–∏ –æ–±—è–∑–∞–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —á–µ—Ä–µ–∑ this(...)

```java
record Point(int x, int y) {
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    public Point() {
        this(0, 0); // –î–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    }
}

record Person(String name, int age) {
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    public Person(String name) {
        this(name, 0); // –î–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    }
}
```

## –ü–æ–ª—è –≤ Record

- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è `private final` –ø–æ–ª—è–º–∏
- –ö–∞–∂–¥—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ record‚Äô–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–µ –ø–æ–ª–µ.
- –û–Ω–∏ final, –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –¥–∞—Å—Ç –ø—Ä–∏—Å–≤–æ–∏—Ç—å –∏–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è
  –∫–ª—é—á–µ–≤–æ–π –∏–¥–µ–µ–π record‚Äô–∞.

```java
record Box(int width, String label) {
}
// -> private final int width;
// -> private final String label;
```

### –ú–æ–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Ç–µ–ª–µ record‚Äô–∞

- –¢–∞–∫–∏–µ –ø–æ–ª—è –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∑–∞–ø–∏—Å–∏.
- –û–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ (non-final), –Ω–æ —ç—Ç–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

> üî¥ –î–æ Java 16 (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
> - –ù–µ–ª—å–∑—è –æ–±—ä—è–≤–ª—è—Ç—å –Ω–∏–∫–∞–∫–∏–µ instance-–ø–æ–ª—è –≤ record - –Ω–∏ private, –Ω–∏ public, –Ω–∏ final, –Ω–∏ volatile.
> - –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–¥–∞–≤–∞–ª: records cannot declare instance fields
> - ‚úÖ –†–∞–∑—Ä–µ—à–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ static –ø–æ–ª—è.
> 
> üü¢ –ù–∞—á–∏–Ω–∞—è —Å Java 16+ (JEP 395 - Records, —Ñ–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –≤ Java 16)
> - –ú–æ–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ instance-–ø–æ–ª—è, –≤ —Ç–æ–º —á–∏—Å–ª–µ private, –Ω–µ-final, –∏ –¥–∞–∂–µ protected / public - –Ω–æ —Å –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏.

```java
record Counter(String id) {
    // –≠—Ç–æ –Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–ø–∏—Å–∏, –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ equals/hashCode/toString, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—è–µ–º—ã–º.
    private int count = 0; // <- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ

    public void inc() {
        count++;
    }

    public int count() {
        return count;
    }
}
```

- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ `equals()`, `hashCode()`, `toString()`
- –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞.
- –ü–æ—ç—Ç–æ–º—É, –¥–∞–∂–µ –µ—Å–ª–∏ `count` –∏–∑–º–µ–Ω–∏—Ç—Å—è, –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ Counter("x") –æ—Å—Ç–∞–Ω—É—Ç—Å—è —Ä–∞–≤–Ω—ã–º–∏.

```java
public record Point(int x, int y) {

    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –º–µ—Ç–æ–¥—ã
    public double distanceFromOrigin() {
        return Math.sqrt(x * x + y * y);
    }

    // –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã
    @Override
    public String toString() {
        return String.format("–¢–æ—á–∫–∞(%d, %d)", x, y);
    }

    // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏ –ø–æ–ª—è
    public static final Point ORIGIN = new Point(0, 0);

    public static Point of(int x, int y) {
        return new Point(x, y);
    }

    // ‚ö†Ô∏è –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ò –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å x() –∏ y(), –Ω–æ –≠–¢–û–ì–û –°–õ–ï–î–£–ï–¢ –ò–ó–ë–ï–ì–ê–¢–¨:
    // - –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
    // - equals()/hashCode() –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –ø–æ–ª—è, –∞ –Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤
    // - –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

    @Override
    public int x() {
        return Math.abs(x); // –ø—Ä–∏–º–µ—Ä - –Ω–æ –Ω–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫!
    }

    @Override
    public int y() {
        return Math.abs(y); // –ø—Ä–∏–º–µ—Ä - –Ω–æ –Ω–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫!
    }

    // ‚úÖ –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥—Ä—É–≥–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ - —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
    public int absoluteX() {
        return Math.abs(x);
    }

    public int absoluteY() {
        return Math.abs(y);
    }
}
```

### –î–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ hashCode (lazy, thread-safe)
  - –¶–µ–ª—å: –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π hashCode –ø—Ä–∏ —á–∞—Å—Ç–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤ HashMap, HashSet.
- –ü–æ—á–µ–º—É –¥–æ–ø—É—Å—Ç–∏–º–æ:
  - –ü–æ–ª–µ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ª–æ–≥–∏–∫—É —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ (equals –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤).
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è volatile –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ + double-checked locking.
  - –ù–µ –Ω–∞—Ä—É—à–∞–µ—Ç –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–∏–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

```java
public record Email(String local, String domain) {
    // –ö—ç—à —Ö—ç—à-–∫–æ–¥–∞: –ª–µ–Ω–∏–≤—ã–π, –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π, –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ equals/toString
    private volatile int hash;

    @Override
    public int hashCode() {
        int h = hash;
        if (h == 0 && (local != null || domain != null)) {
            h = Objects.hash(local, domain);
            hash = h;
        }
        return h;
    }

    // equals –∏ toString –æ—Å—Ç–∞—é—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ - —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å local/domain
}
```

> üí° –≠—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –∞ –Ω–µ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ó–Ω–∞—á–µ–Ω–∏–µ `hash` –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ - –¥–∞–∂–µ –µ—Å–ª–∏ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ new Email("a","b") –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ hash (–Ω–æ–ª—å vs –Ω–µ–Ω–æ–ª—å), –æ–Ω–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞–≤–Ω—ã.

### ‚úÖ Lazy-initialized derived data (–ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

- –¶–µ–ª—å: –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞/–≤—ã—á–∏—Å–ª–µ–Ω–∏—è ¬´—Ç—è–∂—ë–ª—ã—Ö¬ª –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞.
- –ü–æ—á–µ–º—É –¥–æ–ø—É—Å—Ç–∏–º–æ:
  - –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏).
  - –í—ã—á–∏—Å–ª—è—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –Ω–µ–∏–∑–º–µ–Ω–Ω—ã –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ (final –∏–ª–∏ volatile).
  - –ú–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã (–æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ Optional, List.copyOf –∏ —Ç.–ø.).

```java
public record LogEntry(String raw) {
    // –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –ø–∞—Ä—Å—è—Ç—Å—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ, –Ω–µ–∏–∑–º–µ–Ω–Ω—ã, –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ equals
    private transient String[] parts;
    private transient String timestamp;
    private transient String message;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–æ—Å—Ç—É–ø–µ
    private void ensureParsed() {
        if (parts == null) {
            synchronized (this) {
                if (parts == null) {
                    parts = raw.split(" \\| ", 3);
                    timestamp = parts.length > 0 ? parts[0] : "";
                    message = parts.length > 2 ? parts[2] : "";
                }
            }
        }
    }

    public String timestamp() {
        ensureParsed();
        return timestamp;
    }

    public String message() {
        ensureParsed();
        return message;
    }

    // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç raw –æ—Å—Ç–∞—ë—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã
    // equals/hashCode/toString - —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å raw
    
    /*
    raw - –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
    timestamp, message - –ø—Ä–æ—Å—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
    –ï—Å–ª–∏ raw –æ–¥–∏–Ω–∞–∫–æ–≤ -> –≤—Å–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã -> equals() –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω.
     */
}
```

> –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ record –¥–æ–ø—É—Å—Ç–∏–º—ã, –µ—Å–ª–∏ –æ–Ω–∏:
> - –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
> - –Ω–µ–∏–∑–º–µ–Ω–Ω—ã –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
> - –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ `equals`/`hashCode`
> - —Å–ª—É–∂–∞—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–∫—ç—à) –∏–ª–∏ —É–¥–æ–±—Å—Ç–≤–∞ (–ø–∞—Ä—Å–∏–Ω–≥)

### Best Practices

```java
// 1. –í—Å–µ–≥–¥–∞ –∑–∞—â–∏—â–∞–π—Ç–µ mutable –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
public record Config(Map<String, String> settings) {
    public Config {
        settings = Map.copyOf(settings); // –ó–∞—â–∏—Ç–Ω–∞—è –∫–æ–ø–∏—è
    }

    @Override
    public Map<String, String> settings() {
        return Map.copyOf(settings); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ø–∏—é
    }
}

// 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
public record Email(String value) {
    private static final Pattern EMAIL_PATTERN = ...;

    public static Email of(String value) {
        if (!EMAIL_PATTERN.matcher(value).matches()) {
            throw new IllegalArgumentException("Invalid email");
        }
        return new Email(value.toLowerCase());
    }
}

// 3. –õ–æ–∫–∞–ª—å–Ω—ã–µ records (Java 16+)
public List<Point> processData(List<int[]> raw) {
    record TempResult(int x, int y, boolean valid) {}

    return raw.stream()
            .map(arr -> new TempResult(arr[0], arr[1], arr[0] > 0))
            .filter(TempResult::valid)
            .map(tr -> new Point(tr.x(), tr.y()))
            .toList();
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### DTO:

```java
public record UserDTO(
        Long id,
        String username,
        String email,
        UserRole role
) implements Serializable {
}
```

### –í–æ–∑–≤—Ä–∞—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π:

```java
// ‚úÖ Record –∫–∞–∫ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –≤–µ—Ä–Ω—É—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –º–µ—Ç–æ–¥–∞.
// –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø–∞—Ä—Å–∏–Ω–≥–∞, –æ–ø–µ—Ä–∞—Ü–∏–π —Å –æ—à–∏–±–∫–∞–º–∏ –∏ —Ç.–ø.
public record ValidationResult(
                boolean isValid,        // —Ñ–ª–∞–≥: –ø—Ä–æ—à–ª–∞ –ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ
                List<String> errors     // —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ (–ø—É—Å—Ç–æ–π, –µ—Å–ª–∏ isValid == true)
        ) {
}

// –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Å—Ç–∞–≤–Ω–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ –ø—Ä–æ—Å—Ç–æ "–¥–∞/–Ω–µ—Ç", –∞ –µ—â—ë –∏ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ.
public ValidationResult validate(User user) {
    List<String> errors = new ArrayList<>();

    if (user.name() == null || user.name().isBlank()) {
        errors.add("–ò–º—è –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç—ã–º");
    }
    if (user.email() == null || !user.email().contains("@")) {
        errors.add("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email");
    }

    boolean valid = errors.isEmpty();

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π, —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.
    // –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å ValidationResult –≤—Ä—É—á–Ω—É—é - record –¥–µ–ª–∞–µ—Ç –≤—Å—ë –∑–∞ –Ω–∞—Å.
    return new ValidationResult(valid, errors);
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
// ValidationResult result = validate(user);
// if (!result.isValid()) {
//     result.errors().forEach(System.err::println);
// }
```

### –ö–ª—é—á–∏ –≤ Map:

```java
record CacheKey(String type, String id) {
}

Map<CacheKey, Object> cache = new HashMap<>();
cache.

put(new CacheKey("user", "123"),userData);
```

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Records

- ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:
  - Value Objects (Money, Distance, Range)
  - DTO (API request/response, —Å–æ–±—ã—Ç–∏—è)
  - –ö–ª—é—á–∏ –≤ Map/Set
  - –í–æ–∑–≤—Ä–∞—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –º–µ—Ç–æ–¥–∞
  - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ streams/lambdas

- ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
  - JPA/Hibernate —Å—É—â–Ω–æ—Å—Ç–∏ (–Ω—É–∂–Ω—ã —Å–µ—Ç—Ç–µ—Ä—ã, –ø—Ä–æ–∫—Å–∏)
  - –°–ª–æ–∂–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–æ–±—ä–µ–∫—Ç—ã —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
  - –ö–ª–∞—Å—Å—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
  - –û–±—ä–µ–∫—Ç—ã —Å –∏–∑–º–µ–Ω—è–µ–º—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º